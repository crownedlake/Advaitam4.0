<!DOCTYPE html>
<html lang="en">

  <head>
    
	<meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <title>Advaitam - Home</title>
	<link href="https://fonts.googleapis.com/css?family=Press+Start+2P|Lobster" rel="stylesheet" />
    <!-- Bootstrap 4 link -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
 
	<!-- Custom Styling -->
    <link href="includes/main.css" rel="stylesheet" />
	<link href="includes/navigation.css" rel="stylesheet" />
	<link href="includes/loader.css" rel="stylesheet"/>
	<style>

	</style>
</head>
<body>

<!-- Navigation Bars-->
<!-- Desktop Nav -->

<div class="container">
<div class="nightlyNav">
  <ul class="leftbar">
	<li><a href="#">Events</a></li>
	<li><a href="#">Social Cause</a></li>
	<span class="bar"></span>
  </ul>
  <div class="centerbar">
	<span id="barlogo"></span>
  </div>
  <ul class="rightbar">
	<li><a href="#">Pro Night</a></li>
	<li><a href="#">Contact us</a></li>
	<span class="bar"></span>
  </ul>
</div>
</div>

<!-- Mobile Nav -->

<nav id="mobileNav" class="navbar navbar-default">
  <div class="container-fluid">
	  <span style="font-size:30px; cursor:pointer" onclick="openNav()">&#9776;</span>
	  <h3><a href="#" style="text-decoration: none;">ADVAITAM 4.0</a></h3>
  </div>
</nav>
<div id="mobileSidenav" class="sidenav">
  <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</a>
  <a href="#">Events</a>
  <a href="#">Sponsors</a>
  <a href="#">Social Cause</a>
  <a href="#">Pro Night</a>
  <a href="#">Contact</a>
</div>

<!-- Loader -->
<div class="loader-container">
	<div class="overlay">
		<header class="header">
		<h1 class="glitched">
		<span class="s1 hidden">advaitam</span>
		<span class="s2 hidden">is</span>
		<span class="s3 hidden">back</span>
		<span class="s4 hidden">.</span>
		</h1>
		</header>
		<div class="loader">
			<div class="wing1"></div>
			<div class="bird"></div>
			<div class="wing2"></div>
		</div>
	</div>
</div>

<!-- Music Controls -->
<div class="music-controls">
	<img id="music-logo" src="images/music.gif" alt="music controls"></img>
	<a class="btn playbtn"><i class="fa fa-pause"></i></a>
	<div class="timebar">
		<div class="filler"></div>
	</div>
</div>

<!-- Main Content -->
<div class="container">
<div class="row col-xs-8 center">
  <div class="advaitam">
	<!-- <p>ADVAITAM 4.0</p> -->
  </div>
</div>
</div>

<!-- JQuery and Bootstrap Scripts -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>

<!-- Custom CSS -->
<script>
	function openNav() {
		$("#mobileSidenav").css({'width':"250px"});
	}

	function closeNav() {
		$("#mobileSidenav").css({'width':"0px"});
	}
	function runLoader(){
		$(".header").append("<div class='glitch-window'></div>");
		$( "h1.glitched" ).clone().appendTo( ".glitch-window" );
		$('.s1').removeClass('hidden');
		setTimeout(function (){
			$('.s2').removeClass('hidden');
		},500);
		setTimeout(function (){
			$('.s3').removeClass('hidden');
		},1000);
		setTimeout(function (){
			$('.s4').removeClass('hidden');
		},1500);
		setTimeout(function (){
			$('.header').addClass('hidden');
			$('.loader').css({'display':'block'});
			$('.loader').css({'animation': 'flyOut 3s ease-in-out forwards'});
			$('.overlay').fadeOut(3000);
		},3000);
	}
	
	/* Music */
	var audio = new Audio("songs/music"+Math.floor((Math.random()*8.9)/3)+".mp3" ) ;
	var playable = audio.play();
	if(playable !== undefined){
		playable.then( _ => {
			//playable
			
		}).catch(error =>{
			$('.playbtn i').removeClass('fa-pause');
			$('.playbtn i').addClass('fa-play');
			$('.playbtn').addClass('animatedplaybtn');
			$('.music-controls').css({'right':'10px'});
		});
	}
	audio.addEventListener('ended', function(){
		audio.src = "songs/music"+Math.floor((Math.random()*8.9)/3)+".mp3";
		audio.onload = function (){
			audio.play();
		}
	},false);
	$('.animatedplaybtn').click(function (){
		$(this).removeClass('animatedplaybtn');
	});
	$('.playbtn').click(function (){
		if(!audio.paused){
			audio.pause();
			$('.playbtn i').removeClass('fa-pause');
			$('.playbtn i').addClass('fa-play');
		}else{
			audio.play();
			$('.playbtn i').removeClass('fa-play');
			$('.playbtn i').addClass('fa-pause');
		}
	});
	
	function pollAudioTime(){
		$('.filler').css({'width': ((audio.currentTime*100/audio.duration))+'px'});
		setTimeout(pollAudioTime, 500);
	}
	
	pollAudioTime();
	/* DOM functions */
	runLoader();
	$(document).ready(function (){
		
	});
</script>
 
</body>

</html>