<!DOCTYPE html>
<html lang="en">

  <head>
    
	<meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <title>Advaitam - Home</title>
	<link href="https://fonts.googleapis.com/css?family=Press+Start+2P|Lobster" rel="stylesheet" />
    <!-- Bootstrap 4 link -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
 
	<!-- Custom Styling -->
    <link href="includes/main.css" rel="stylesheet" />
	<link href="includes/navigation.css" rel="stylesheet" />
	<link href="includes/loader.css" rel="stylesheet"/>
	<style>

	</style>
</head>
<body>

<!-- Navigation Bars-->
<!-- Desktop Nav -->

<div class="container">
<div class="nightlyNav">
  <ul class="leftbar">
	<li><a class="in" href="#home">Home</a></li>
	<li><a class="in" href="#events">Events</a></li>
	<li><a class="in" href="#socialcause">Social Cause</a></li>
	<span class="bar"></span>
  </ul>
  <div class="centerbar">
	<span id="barlogo"></span>
  </div>
  <ul class="rightbar">
	<li><a class="in" href="#pronight">Pro Night</a></li>
	<li><a href="#">Sponsors</a></li>
	<li><a class="in" href="#contactus">Contact us</a></li>
	<span class="bar"></span>
  </ul>
</div>
</div>

<!-- Mobile Nav -->

<nav id="mobileNav" class="navbar navbar-default">
  <div class="container-fluid">
	  <span id="sidenav-toggle" style="font-size:30px; cursor:pointer" onclick="openNav()">
		<div class="bar1"></div>
		<div class="bar2"></div>
		<div class="bar3"></div>
	  </span>
	  <h3><a href="#" style="text-decoration: none;">ADVAITAM 4.0</a></h3>
  </div>
</nav>
<div id="mobileSidenav" class="sidenav">
  <a class="in" href="#home">Home</a>
  <a class="in" href="#events">Events</a>
  <a href="#">Sponsors</a>
  <a class="in" href="#socialcause">Social Cause</a>
  <a class="in" href="#pronight">Pro Night</a>
  <a class="in" href="#contactus">Contact</a>
</div>

<!-- Loader -->
<div class="loader-container">
	<div class="overlay">
		<header class="header">
		<h1 class="glitched">
		<span class="s1 hidden">advaitam</span>
		<span class="s2 hidden">is</span>
		<span class="s3 hidden">back</span>
		<span class="s4 hidden">.</span>
		</h1>
		</header>
		<div class="loader">
			<div class="wing1"></div>
			<div class="bird"></div>
			<div class="wing2"></div>
		</div>
	</div>
</div>

<!-- Music Controls -->
<div class="music-controls">
	<img id="music-logo" src="images/music.gif" alt="music controls"></img>
	<a class="btn playbtn"><i class="fa fa-pause"></i></a>
	<div class="timebar">
		<div class="filler"></div>
	</div>
</div>

<!-- Display Area -->
<div class="content-displayed container">
</div>
<span id="go-diamond">
	<span class="text"></span>
</span>
<!-- Main Content -->
<!--Template of content-container-->
<div class="content-container container">
<div class="row col-xs-8 center">
  <div class="advaitam">
	<!-- <p>ADVAITAM 4.0</p> -->
  </div>
</div>
</div>
	<!-- Home Content -->
	<div id="home" class="content-container container">
		<img src="images/vintage.png" class="caption"></img>
		<span class="big-timer"></span>
	</div>
	<!-- Events Content -->
	<div id="events" class="content-container container">
		Events Placeholder
	</div>
	<div id="socialcause" class="content-container container">
		Social Cause Placeholder
	</div>
	<div id="pronight" class="content-container container">
		Pro Night Placeholder
	</div>
	<div id="contactus" class="content-container container">
		ContactUs Placeholder
	</div>
<!-- JQuery and Bootstrap Scripts -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>

<!-- Custom CSS -->
<script>
	function openNav() {
		$("#mobileSidenav").css({'width':"250px"});
		$('#sidenav-toggle').addClass('closebtn').attr('onclick','closeNav()');
	}

	function closeNav() {
		$("#mobileSidenav").css({'width':"0px"});
		$('#sidenav-toggle').removeClass('closebtn').attr('onclick','openNav()');
	}
	function runLoader(){
		$(".header").append("<div class='glitch-window'></div>");
		$( "h1.glitched" ).clone().appendTo( ".glitch-window" );
		$('.s1').removeClass('hidden');
		setTimeout(function (){
			$('.s2').removeClass('hidden');
		},500);
		setTimeout(function (){
			$('.s3').removeClass('hidden');
		},1000);
		setTimeout(function (){
			$('.s4').removeClass('hidden');
		},1500);
		setTimeout(function (){
			$('.header').addClass('hidden');
			$('.loader').css({'display':'block'});
			$('.loader').css({'animation': 'flyOut 3s ease-in-out forwards'});
			$('.overlay').fadeOut(3000);
		},3000);
	}
	
	/* Music */
	var audio = new Audio("songs/music"+Math.floor((Math.random()*8.9)/3)+".mp3" ) ;
	var playable = audio.play();
	if(playable !== undefined){
		playable.then( _ => {
			//playable
		}).catch(error =>{
			$('.playbtn i').removeClass('fa-pause');
			$('.playbtn i').addClass('fa-play');
			$('.playbtn').addClass('animatedplaybtn');
			$('.music-controls').css({'right':'10px'});
		});
	}
	audio.addEventListener('ended', function(){
		audio.src = "songs/music"+Math.floor((Math.random()*8.9)/3)+".mp3";
		audio.autoplay = true;
	},false);
	$('.animatedplaybtn').click(function (){
		$(this).removeClass('animatedplaybtn');
	});
	$('.playbtn').click(function (){
		if(!audio.paused){
			audio.pause();
			$('.playbtn i').removeClass('fa-pause');
			$('.playbtn i').addClass('fa-play');
		}else{
			audio.play();
			$('.playbtn i').removeClass('fa-play');
			$('.playbtn i').addClass('fa-pause');
		}
	});
	
	function pollAudioTime(){
		$('.filler').css({'width': ((audio.currentTime*100/audio.duration))+'px'});
		setTimeout(pollAudioTime, 500);
	}
	
	pollAudioTime();
	/* Utility Functions */
	function syncTimer(){
		var countDownDate = new Date("March 21, 2018 00:00:00").getTime(); //Advaitam 4.0 Date
		var timer = setInterval(function() {
		  var now = new Date().getTime();
		  var distance = countDownDate - now; //time left before Advaitam is live
		  var days = Math.floor(distance / (1000 * 60 * 60 * 24));
		  var hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
		  var minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
		  var seconds = Math.floor((distance % (1000 * 60)) / 1000);
		  if(days < 1){
		  // Display the result in the element with id="demo"
			$(".big-timer").html("<span class='num'>" + hours + "</span> hrs <span class='num'>" + minutes + "</span> mins <span class='num'>" + seconds + "</span> secs"); //when < 1 day left
		  }else{
			$(".big-timer").html("<span class='num'>" + days + "</span> days <span class='num'>" + hours + "</span> hrs <span class='num'>" + minutes + "</span> mins"); //when > 1 days left
		  }
		  // If the count down is finished, write some text 
		  if (distance < 0) {
			clearInterval(x);
			$(".big-timer").html("ADVAITAM 4.0 IS LIVE"); //when Advaitam 4.0 is live
		  }
		}, 1000);
	}
	
	function scrollToView(id){
		$('.content-displayed').slideUp(400, function (){;
				$('.content-displayed').html($(id).html());
				$('.content-displayed').css({'margin-top':'200%','display':'block'});
				$('.content-displayed').animate({
					marginTop:'13.5vw'
				},800,"swing");
			});
	}
	/* DOM functions */
	runLoader();
	$(document).ready(function (){
		syncTimer();
		$('.content-displayed').html($('#home').html());
		$('.content-displayed').addClass('home');
		$('#go-diamond').click(function (){
			scrollToView('#events');
		});
		$('a.in[href]').click(function (){
			scrollToView($(this).attr('href'));
		});
	});
</script>
 
</body>

</html>